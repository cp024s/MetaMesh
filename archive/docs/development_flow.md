# **NPU Development Flow (RTL → GDS)**

| **Stage**                          | **Sub-Steps**                                                                                                                                                                                                                                                                                                                 | **Tools / Environment**                                         | **Outputs / Deliverables**                                                                             |
| ---------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ |
| **1. Planning & Architecture**     | - Define NPU functionality (CNN, DNN, GEMM, etc.) <br> - Draw block diagrams & hierarchy <br> - Define module responsibilities <br> - Specify interfaces & protocols                                                                                                                                                          | Any drawing tool (draw\.io, diagrams.net, Inkscape)             | - Architectural specification <br> - Hierarchical diagrams <br> - Module descriptions                  |
| **2. RTL Development**             | - Bottom-up module design: PEs, MAC array, Systolic array, Vector Units, Activation, Pooling, Quantization <br> - Memory subsystem: Buffers, DMA, Address generators <br> - Control Unit: Scheduler, FSM, Error handler <br> - Host Interface & Debug Unit <br> - Testbench per module (unit-level) <br> - Integrate NPU\_TOP | SystemVerilog, Yosys (lint), ModelSim / Questa / Verilator, UVM | - RTL modules verified individually <br> - Integrated NPU\_TOP RTL <br> - Unit-level testbench reports |
| **3. Kernel / Software Workload**  | - Minimal kernels for GEMM, convolution, activation, pooling <br> - Map kernels to NPU instruction/job queue <br> - Generate stimulus for RTL simulation                                                                                                                                                                      | Python, C/C++, Numpy, PyTorch (for reference)                   | - Kernel routines <br> - Test vectors for verification <br> - Reference results                        |
| **4. Verification**                | - Unit-level verification <br> - System-level verification <br> - Functional coverage & assertions <br> - Formal verification                                                                                                                                                                                                 | UVM, cocotb, SymbiYosys, Verilator                              | - Verified RTL <br> - Coverage reports <br> - Assertion pass/fail reports                              |
| **5. Synthesis**                   | - RTL → gate-level netlist <br> - Apply SDC constraints (timing, clocks) <br> - Technology mapping                                                                                                                                                                                                                            | Yosys, OpenSTA                                                  | - Gate-level netlist <br> - Synthesis reports: area, timing, cell usage                                |
| **6. DFT (Optional)**              | - Scan chain insertion <br> - ATPG / test vector generation                                                                                                                                                                                                                                                                   | Fault                                                           | - Scan-ready netlist <br> - Test vectors & coverage                                                    |
| **7. Physical Design (PD)**        | - Floorplanning (core, macros, IO pins) <br> - Placement (global + detailed) <br> - Clock Tree Synthesis <br> - Routing (global + detailed) <br> - Post-route optimization                                                                                                                                                    | OpenLane / OpenROAD, Magic, Netgen, KLayout, OpenSTA            | - Placed & routed DEF/GDS <br> - Post-route netlist <br> - Timing reports                              |
| **8. Extraction & Post-Route STA** | - Parasitic extraction (SPEF/SPICE) <br> - Static timing analysis (post-layout)                                                                                                                                                                                                                                               | Magic, OpenSTA                                                  | - Extracted SPEF/SPICE <br> - STA reports                                                              |
| **9. Physical Verification**       | - DRC (Design Rule Check) <br> - LVS (Layout vs Schematic) <br> - ERC (Electrical Rule Check)                                                                                                                                                                                                                                 | Magic, Netgen                                                   | - DRC/LVS/erc reports <br> - Clean GDS verification                                                    |
| **10. Signoff / GDSII Generation** | - IR drop / power checks <br> - Package final design                                                                                                                                                                                                                                                                          | Magic, KLayout, OpenROAD                                        | - Final GDSII <br> - Signoff package: netlist, LEFs, SDC, reports                                      |
